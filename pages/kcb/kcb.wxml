<!--index.wxml-->
<view class="page">
  <view class='page__hd'>
    <view class='kcb-top'>
       <view class='kcb-xq'>
          <picker value="{{indexxq}}" range="{{arrayxq}}">
            <view>学期：{{arrayxq[indexxq]}}</view>
          </picker>
        </view>
        <view class='kcb-zc'>
          <picker bindchange="zcChange" value="{{indexzc}}" range="{{arrayzc}}">
            <view style='margin-left:5px;'>第 {{arrayzc[indexzc]}} 周</view>
          </picker>
        </view>
        <view class='kcb-tq' bindtap="showPopup">
          <view class='kcb-tq-img-view'>
            <view wx:if='{{isshowimg1}}'><image src='../../image/weather/{{tqimgurl1}}.png' style="width:40rpx;height:40rpx;"></image></view>
            <view wx:if='{{isshowimg2}}'><image src='../../image/weather/{{tqimgurl2}}.png' style="width:40rpx;height:40rpx;"></image></view>
          </view>
          <view>{{tqtemp}}℃</view>
        </view>
    </view>
  </view>

  <view class='page__bd'>
    <view class='kcb-body'>

      <view class='kcb-body-table'>
        <view class='kcb-body-fill'>1\n2\n3\n4\n5\n6\n7\n8\n9\n10</view>
        <view class='kcb-body-table-box'>
          <scroll-view scroll-x="true" style="width: 710rpx;" >

            <view class='kcb-body-head-header'>
                <view class='table-th' wx:for="{{arrayth}}" wx:for-index="idxth" wx:for-item="thitem" wx:key="week">
                  <view class='table-th-z'>{{thitem.week}}</view>
                  <view class='table-th-t'>{{thitem.date}}</view>
                </view>
            </view>
            <view class='table-tr' wx:for="{{arraykcb}}" wx:for-index="trindex" wx:for-item="tritem" wx:key="{{trindex}}">
                <view class='table-td'
                      wx:for="{{tritem}}" wx:for-index="nowindex" wx:for-item="nowitem" wx:key="{{nowindex}}"
                      style="background-color:{{nowitem.color}}; " 
                      bindtap='showdetail' 
                      data-name='{{nowitem.name}}' 
                      data-room='{{nowitem.room}}' 
                      data-leader='{{nowitem.leader}}' 
                      data-time1='{{nowitem.time1}}' 
                      data-time2='{{nowitem.time2}}' >
                  <text>{{nowitem.name}}\n{{nowitem.room}}</text>
                </view>
            </view>

          </scroll-view>
        </view>
      </view>
    </view>
    <!-- <block>
      <view class='kcb-detail'>
        <view>课程名称：{{name}}</view>
        <view>上课老师：{{leader}}</view>
        <view>上课地点：{{room}}</view>
        <view>上课时间：{{time}}</view>
      </view>
    </block> -->
    <modal hidden="{{hiddenmodalput}}" title="课程详细" confirm-text="确定" bindconfirm="confirm" no-cancel='true'>
        <view>课程名称：{{name}}</view>
        <view>任课教师：{{leader}}</view>
        <view>课程地点：{{room}}</view>
        <view style='display:flex;flex-direction:row'>
          <view>上课时间：</view>
          <view style='display:flex;flex-direction:column'>
            <view>{{time1}}</view>
            <view>{{time2}}</view>
          </view>
        </view>
    </modal>

    <!-- <modal hidden="{{showeditkcb}}" title="修改课程" confirm-text="完成" bindconfirm="confirm" no-cancel='true'>
      <form bindsubmit="addconfirm" >
        <view class='cell-hang'><view class='cell-label'>课程名称：</view><view class='cell-picker'><input name='name' maxlength='15' placeholder='不超过15个字'></input></view></view>
        <view class='cell-hang'><view class='cell-label'>任课教师：</view><view class='cell-picker'><input name='phone' maxlength='5' placeholder='不超过5个字'></input></view></view>
        <view class='cell-hang'><view class='cell-label'>课程地点：</view><view class='cell-picker'><input name='detail' maxlength='5' placeholder='不超过10个字'></input></view></view>
        <button form-type='submit' type='primary' class='comfirm-submit'>确认修改</button>
      </form>
    </modal> -->

  </view>
</view>
  <wxc-popup class="J_Popup" animation-mode="top" align="top">
    <view class="popup__content">
      <view class='m-tq-top'>
        <view>城市：大连</view>
      </view>
      <view class='m-tq-con'>
        <view class='m-tq-con-item'>
          <view class='m-tq-con-item-day'>今天：{{m_today}}</view>
          <view class='m-tq-con-item-main'>
            <view class='m-tq-con-item-main-img'>
                <view wx:if='{{m_today_img1}}'><image src='../../image/weather/{{m_today_img1}}.png'></image></view>
                <view wx:if='{{m_today_img2}}'><image src='../../image/weather/{{m_today_img2}}.png'></image></view>
            </view>
            <view class='m-tq-con-item-main-text'>
              <view class='m-tq-con-item-main-text-disc'>{{m_today_disc}}</view>
              <view class='m-tq-con-item-main-text-temp'>{{m_today_temp}}℃</view>
            </view>
          </view>
        </view>
        <view class='m-tq-con-item'>
          <view class='m-tq-con-item-day'>明天：{{m_nextday}}</view>
          <view class='m-tq-con-item-main'>
            <view class='m-tq-con-item-main-img'>
                <view wx:if='{{m_nextday_img1}}'><image src='../../image/weather/{{m_nextday_img1}}.png'></image></view>
                <view wx:if='{{m_nextday_img2}}'><image src='../../image/weather/{{m_nextday_img2}}.png'></image></view>
            </view>
            <view class='m-tq-con-item-main-text'>
              <view class='m-tq-con-item-main-text-disc'>{{m_nextday_disc}}</view>
              <view class='m-tq-con-item-main-text-temp'>{{m_nextday_temp}}℃</view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </wxc-popup>
